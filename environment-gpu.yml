name: multi-animal-tracker-gpu
channels:
  - conda-forge
  - nvidia
  - defaults
dependencies:
  # Core Python
  - python=3.13
  
  # Scientific computing stack
  - numpy
  - scipy
  - pandas
  - jupyter
  - ipykernel
  - ipywidgets
  - einops
  - umap-learn
  - scikit-learn
  
  # Visualization
  - matplotlib
  - seaborn
  - bokeh
  
  # Computer vision
  - opencv
  - scikit-image
  - pillow
  
  # Efficiency - CPU and GPU
  - numba

  # GUI framework (Qt6 - modern, better HiDPI support)
  - pyside6>=6.6
  - qt6-main
  
  # Development tools
  - pip
  - setuptools
  - wheel
  - pytest
  - black
  - flake8
  
  # Install GPU-accelerated packages via pip
  - pip:
    # PyTorch with CUDA support (use appropriate CUDA version)
    # - --extra-index-url https://download.pytorch.org/whl/cu126
    # - --extra-index-url https://download.pytorch.org/whl/cu128
    - --extra-index-url https://download.pytorch.org/whl/cu130
    # - --extra-index-url https://download.pytorch.org/whl/cpu
    - torch
    - torchvision
    - torchaudio
    # Additional tools
    - timm
    - pupil-apriltags
    - ultralytics
    # TensorRT - NVIDIA inference optimization for YOLO acceleration
    # See: https://docs.nvidia.com/deeplearning/tensorrt/latest/installing-tensorrt/installing.html
    # Default: CUDA 13.0 (cu13) - change suffix if you have a different CUDA version
    - tensorrt
    - tensorrt-cu13
    - tensorrt-cu13-bindings
    - tensorrt-cu13-libs
    # For CUDA 12.x, replace cu13 with cu12 above:
    # - tensorrt
    # - tensorrt-cu12
    # - tensorrt-cu12-bindings
    # - tensorrt-cu12-libs
    # For CUDA 11.x, replace cu13 with cu11 above:
    # - tensorrt
    # - tensorrt-cu11
    # - tensorrt-cu11-bindings
    # - tensorrt-cu11-libs
    - -e .
    # Install cupy for GPU-accelerated array computations
    # Using prerelease for CUDA 13 compatibility fixes
    - --pre
    - -f https://pip.cupy.dev/pre
    - cupy-cuda13x
    # - cupy-cuda12x
    # - cupy-cuda11x
    